<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>MyPT Azure â€“ On-device Pose Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/2.0.0/modern-normalize.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.16.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose"></script>

    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/GLTFLoader.js"></script>
  </head>

  <body>
    <div class="page">
      <header>
        <div class="title-row">
          <span class="emoji">ğŸ‹ï¸â€â™‚ï¸</span>
          <h1>MyPT Azure â€“ On-device Pose Demo</h1>
        </div>
        <p class="subtitle">
          ë¸Œë¼ìš°ì €ì—ì„œ <strong>MoveNet</strong>ìœ¼ë¡œ íŒ” êµ½í˜€í´ê¸°(íŒ” ì»¬) / ìŠ¤ì¿¼íŠ¸ ë™ì‘ì„
          ì‹¤ì‹œê°„ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤.
        </p>
      </header>

      <main>
        <section class="video-shell">
          <div class="video-toolbar">
            <div class="video-toolbar-left">
              <div class="pill">
                <span class="pill-dot"></span>
                <span id="model-label">MoveNet Lightning Â· On-device</span>
              </div>

              <div class="exercise-select">
                <select id="exercise-select">
                  <option value="right_curl">Right Arm Curl</option>
                  <option value="left_curl">Left Arm Curl</option>
                  <option value="squat">Squat</option>
                  <option value="lunge_right">Right Lunge</option>
                  <option value="shoulder_press">Shoulder Press</option>
                  <option value="side_raise_right">Right Side Raise</option>
                </select>
              </div>

              <div class="character-select">
                <select id="character-select">
                  <option value="none">ë³¸ì¸ ëª¨ìŠµ (Video)</option>
                  <option value="basic">ê¸°ë³¸í˜• ì•„ë°”íƒ€</option>
                  <option value="muscle">ê·¼ìœ¡ì§ˆ ì½”ì¹˜</option>
                  <option value="cute">ê·€ì—¬ìš´ ìºë¦­í„°</option>
                </select>
              </div>
              
            </div>

            <div style="display: flex; gap: 8px; align-items: center;">
              <button id="toggle-overlay" class="btn secondary">í¬ì¦ˆì„  ë„ê¸°</button>
              <button id="toggle-camera" class="btn">ì¹´ë©”ë¼ ì‹œì‘</button>
            </div>
          </div>

          <div class="video-wrapper">
            <video id="video" playsinline></video>
            <canvas id="canvas"></canvas>

            <div id="avatar-container"></div>

            <div class="hud-card">
              <div class="hud-title" id="hud-exercise">Right Arm Curl</div>

              <div class="hud-row">
                <div>Reps:<strong id="hud-reps">0</strong></div>
                <div>Angle:<strong id="hud-angle">0Â°</strong></div>
                <div>FPS:<strong id="hud-fps">0</strong></div>
              </div>

              <div class="status-row">
                <div id="status-dot" class="status-dot"></div>
                <div class="status-text">
                  ìƒíƒœ: <strong id="status-label">-</strong>
                  <span id="status-detail" style="margin-left: 4px; color: var(--muted);"></span>
                </div>
              </div>

              <button id="reset-btn" class="btn secondary">ì¹´ìš´íŠ¸ ì´ˆê¸°í™”</button>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="main.js?v=8"></script>
  </body>
</html>